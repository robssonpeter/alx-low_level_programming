.PHONY =  all generate

CC = gcc
SRC = .c
OBJ = .o
NAME = school
RM = rm
CFLAGS = -Wall -Werror -Wextra -pedantic

all: main${OBJ} ${NAME}${OBJ}
	${CC} ${CFLAGS} main${OBJ} ${NAME}${OBJ} -o ${NAME}

main${OBJ}: main${SRC}
	${CC} ${CFLAGS}    -c -o main${OBJ} main${SRC}
	
${NAME}${OBJ}: ${NAME}${SRC}
	${CC} ${CFLAGS}    -c -o ${NAME}${OBJ} ${NAME}${SRC}

clean:
	-@${RM} -f *.swp *~ ${NAME}

oclean:
	-@${RM} -f *${OBJ}

fclean:
	-@${RM} -f *~ ${NAME} *${OBJ}

re:
	${RM} -f main${OBJ} ${NAME}${OBJ}
	${CC} ${CFLAGS}    -c -o main${OBJ} main${SRC}
	${CC} ${CFLAGS}    -c -o ${NAME}${OBJ} ${NAME}${SRC}
	${CC} ${CFLAGS} main${OBJ} ${NAME}${OBJ} -o ${NAME}
